5 REM FOR G850V
10 OPEN "COM1:": PRINT #1, ""
20 PRINT #1, "11PIN UART TEST"
30 OUT &H60,2
40 OUT &H74,1
50 OUT &H73,0
60 OUT &H73,1
70 OUT &H73,0
80 OUT &H70,&HD
90 OUT &H71,&H4E
100 OUT &H71,&H10
110 OUT &H63,0
120 OUT &H71,&H5
130 OUT &H63,&H14
140 DIM X$(0)*68
150*LOOP00: A=INP(&H71)
160 IF (A AND 2)=0 THEN "LOOP00"
180*RXRDY: A=INP(&H72)
190 IF A=0 THEN "LOOP00"
200 INPUT #1, C$
210 X$(0)=X$(0)+C$
220 PRINT #1, "Received: "+STR$(A)
230 IF A<>10 THEN "LOOP00"
240 LOCATE 0,3: PRINT "Received:"
250 LOCATE 0,4: PRINT X$(0)
260 PRINT #1, "Received: "+X$(0)
270 X$(0)=""
280 GOTO "LOOP00"

