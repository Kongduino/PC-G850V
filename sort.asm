10 ORG 100H
20 JP MAIN
30DSPDE EQU 0BFF1H
40WAITK EQU 0BFCDH
50DSPHEX EQU 0F9BDH
60FLAG EQU 0
70DATA: DEFS 2
80L0: DB 6,89,1,56,33,29,93,88,76,43,54,12
90L1: DB "                                    "
91 DB 13,10,0

100MAIN: LD HL, L0
110 LD C, 12
120 CALL SORT
130 LD B, 12
140 LD DE, L0
150 LD HL, L1
190MAIN0: LD A, (DE)
200 CALL DSPHEX
210 INC HL
220 INC HL
230 LD (HL), 32
235 INC HL
240 INC DE
250 DJNZ MAIN0
260 LD HL, L1
270 LD B, 36
280 LD DE, 256
280 CALL DSPDE
290 RET

2000SORT: LD (DATA), HL
2010LOOP: RES FLAG, H
2020 LD B,C
2030 DEC B
2040 LD IX, (DATA)
2050NEXT: LD A, (IX)
2060 LD D, A
2070 LD E, (IX+1)
2080 SUB E
2090 JP M, NOEX
2100 LD (IX), E
2110 LD (IX+1), D
2120 SET FLAG, H
2130NOEX: INC IX
2140 DJNZ NEXT
2150 BIT FLAG, H
2160 JP NZ, LOOP
2170 RET

